@import url("./tokens.css");
@import url("https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:wght@500;600;700&family=IBM+Plex+Sans:wght@300;400;500;600;700&display=swap");

html{scroll-behavior:smooth}
body{
  background:var(--bg);
  background-image:var(--bg-gradient);
  min-height:100vh;
  text-rendering:optimizeLegibility;
  -webkit-font-smoothing:antialiased;
}
.wrap{max-width:var(--max);margin:0 auto;padding:28px}

/* Motion */
@keyframes riseIn{from{opacity:0;transform:translateY(18px)}to{opacity:1;transform:translateY(0)}}
@keyframes glowPulse{0%{transform:scale(1);opacity:.9}50%{transform:scale(1.15);opacity:1}100%{transform:scale(1);opacity:.9}}
.reveal,
[data-reveal]{
  opacity:0;
  transform:translateY(18px);
  transition:opacity .7s ease,transform .7s ease;
}
.reveal.visible,
[data-reveal].visible{
  opacity:1;
  transform:translateY(0);
}
.stagger > *{opacity:0;transform:translateY(14px);transition:opacity .6s ease,transform .6s ease}
.stagger.visible > *{opacity:1;transform:translateY(0);transition-delay:var(--delay,0ms)}

/* Global layout */
.site{
  position:relative;
  isolation:isolate;
}
.bg-noise::before{
  content:"";
  position:fixed;
  inset:0;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='1' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.05'/%3E%3C/svg%3E");
  pointer-events:none;
  mix-blend-mode:soft-light;
  z-index:-1;
}
.bg-noise::after{
  content:"";
  position:fixed;
  inset:0;
  background-image:linear-gradient(transparent 31px, rgba(255,255,255,.03) 32px), linear-gradient(90deg, transparent 31px, rgba(255,255,255,.03) 32px);
  background-size:32px 32px;
  pointer-events:none;
  opacity:.25;
  z-index:-2;
}
[data-theme="mono"] .bg-noise::after{opacity:.18}

/* Nav */
.nav{
  position:sticky;top:0;z-index:50;
  border-bottom:1px solid var(--line);
  background:rgba(8,12,18,.86);
  backdrop-filter:blur(14px) saturate(140%);
}
[data-theme="light"] .nav{background:rgba(248,246,241,.9)}
[data-theme="neon"] .nav{
  background:rgba(10,0,22,.85);
  border-bottom:1px solid rgba(255,43,214,.3);
}
.nav .row{
  display:grid;
  grid-template-columns:auto 1fr auto;
  align-items:center;
  gap:14px;
  padding:12px 22px;
  max-width:var(--max);
  margin:0 auto;
}
.brand{
  display:flex;align-items:center;gap:12px;
  font-weight:700;letter-spacing:.3px;
  font-family:"Bricolage Grotesque",sans-serif;
}
.brand .dot{
  width:12px;height:12px;border-radius:999px;
  background:var(--accent);
  box-shadow:0 0 12px rgba(255,120,79,.35);
}
[data-theme="mono"] .brand .dot{box-shadow:none}
.links{
  display:flex;
  flex-wrap:nowrap;
  gap:6px;
  overflow-x:auto;
  white-space:nowrap;
  -webkit-overflow-scrolling:touch;
  scrollbar-width:none;
  padding:6px;
  border:1px solid var(--line);
  border-radius:999px;
  background:rgba(255,255,255,.03);
}
.links::-webkit-scrollbar{display:none}
.links a{
  padding:7px 12px;border-radius:999px;border:1px solid transparent;
  color:var(--muted);font-size:12px;letter-spacing:.04em;text-transform:uppercase;
}
.links a.active{
  border-color:var(--line);
  background:rgba(255,255,255,.08);
  color:var(--text);
}
.links a.projects-hot{
  border-color:rgba(255,107,94,.55);
  background:rgba(255,107,94,.12);
  color:var(--text);
  box-shadow:0 0 0 1px rgba(255,107,94,.15), 0 10px 26px rgba(255,107,94,.2);
}
[data-theme="mono"] .links a.projects-hot{
  border-color:var(--line);
  background:rgba(255,255,255,.06);
  box-shadow:none;
}
.dev-pill{
  margin-left:10px;
  font-size:10px;
  letter-spacing:.14em;
  text-transform:uppercase;
  border:1px solid var(--line);
  border-radius:999px;
  padding:3px 8px;
  color:var(--muted);
  background:rgba(255,255,255,.04);
}
.spotlight-logo{
  display:inline-block;
  width:32px;
  height:32px;
  margin-right:10px;
  vertical-align:middle;
}
.nav-actions{display:flex;align-items:center;gap:10px}
.theme-toggle::after{content:"â€¢";margin-left:6px;color:var(--accent3);font-size:12px}
.icon{color:var(--accent2);margin-right:6px}
.icon.sun{color:var(--accent3)}
.icon.flare{color:var(--accent)}
.icon.lime{color:var(--accent4)}
[data-theme="mono"] .icon,
[data-theme="mono"] .icon.sun,
[data-theme="mono"] .icon.flare,
[data-theme="mono"] .icon.lime{color:var(--muted)}
.theme-toggle{
  border:1px solid var(--line);
  background:rgba(15,22,32,.9);
  color:var(--text);
  padding:8px 12px;border-radius:10px;
  cursor:pointer;font-size:12px;letter-spacing:.08em;text-transform:uppercase;
}
[data-theme="neon"] .theme-toggle{
  border-color:rgba(37,240,255,.45);
  box-shadow:0 0 20px rgba(37,240,255,.2);
}

/* Typography */
.h1,.display{
  font-family:"Bricolage Grotesque",sans-serif;
  font-size:clamp(34px, 4vw, var(--h1));
  line-height:1.06;
  margin:8px 0 10px;
}
.h2{font-family:"Bricolage Grotesque",sans-serif;font-size:var(--h2);margin:0 0 10px}
.h3{font-family:"Bricolage Grotesque",sans-serif;font-size:var(--h3);margin:0 0 8px}
.kicker{font-size:11px;text-transform:uppercase;letter-spacing:.3em;color:var(--muted)}
.muted{color:var(--muted)}

/* Grid */
.grid{display:grid;gap:16px}
.grid.two{grid-template-columns:repeat(2,minmax(0,1fr))}
.grid.three{grid-template-columns:repeat(3,minmax(0,1fr))}
.grid.four{grid-template-columns:repeat(4,minmax(0,1fr))}
@media (max-width:1100px){.grid.four{grid-template-columns:repeat(2,minmax(0,1fr))}}
@media (max-width:900px){.grid.two,.grid.three,.grid.four{grid-template-columns:1fr}}

/* Hero split */
.hero-split{
  display:grid;
  grid-template-columns:2fr 1fr;
  gap:16px;
}
@media (max-width:900px){.hero-split{grid-template-columns:1fr}}
.hero-card{
  border:1px solid var(--line);
  border-radius:20px;
  padding:18px;
  background:var(--panel2);
}
.hero-card.hero-side{
  display:grid;
  gap:12px;
  align-content:start;
}
.logo-inline{
  display:inline-flex;
  align-items:center;
  gap:10px;
}
.logo-inline img{
  width:28px;
  height:28px;
}
.logo-inline img.logo-hero{
  width:44px;
  height:44px;
}
.stat-row{
  display:grid;
  grid-template-columns:repeat(4,minmax(0,1fr));
  gap:8px;
}
@media (max-width:900px){.stat-row{grid-template-columns:repeat(2,minmax(0,1fr))}}
.stat{
  border:1px solid var(--line);
  border-radius:12px;
  padding:10px;
  background:var(--panel);
  text-align:center;
}
.stat strong{display:block;font-size:16px}
.stat span{font-size:11px;color:var(--muted);letter-spacing:.08em;text-transform:uppercase}

.agent-battlefield{
  border:1px solid var(--line);
  border-radius:14px;
  padding:12px;
  background:var(--panel);
  display:grid;
  gap:10px;
  position:relative;
  overflow:hidden;
}
.agent-battlefield::before{
  content:"";
  position:absolute;
  inset:0;
  background-image:linear-gradient(transparent 23px, rgba(255,255,255,.04) 24px), linear-gradient(90deg, transparent 23px, rgba(255,255,255,.04) 24px);
  background-size:24px 24px;
  opacity:.2;
  pointer-events:none;
}
.agent-battlefield > *{position:relative;z-index:1}
.battlefield-label{
  font-size:11px;
  letter-spacing:.14em;
  text-transform:uppercase;
  color:var(--muted);
}
.battlefield-grid{
  display:grid;
  grid-template-columns:repeat(12, minmax(0, 1fr));
  gap:8px;
  justify-items:center;
  align-items:center;
}
@media (max-width:700px){.battlefield-grid{grid-template-columns:repeat(10, minmax(0, 1fr))}}
.legend{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
  font-size:12px;
  color:var(--muted);
}
.legend .node-dot{margin-right:6px;vertical-align:middle}
.node-dot{
  width:10px;
  height:10px;
  border-radius:999px;
  background:var(--line);
  box-shadow:0 0 0 1px rgba(0,0,0,.2);
  display:inline-block;
}
.node-dot.green{background:#22c55e}
.node-dot.red{background:#ef4444}
.node-dot.gold{background:#f59e0b}
[data-theme="mono"] .node-dot.gold{background:#9aa0a6}
.node-dot.node-link{cursor:pointer}
.node-dot.node-link:hover{transform:translateY(-1px)}

.agent-grid{
  display:grid;
  grid-template-columns:repeat(8, minmax(0,1fr));
  gap:8px;
  margin-top:12px;
}
@media (max-width:900px){.agent-grid{grid-template-columns:repeat(4, minmax(0,1fr))}}
.agent-pill{
  border:1px solid var(--line);
  border-radius:10px;
  padding:8px;
  font-size:11px;
  text-align:center;
  color:var(--muted);
  background:var(--panel2);
}
.agent-pill.available{border-color:rgba(34,197,94,.4);color:#22c55e}
.agent-pill.unavailable{border-color:rgba(239,68,68,.4);color:#ef4444}
[data-theme="mono"] .agent-pill.available{border-color:var(--line);color:#22c55e}
[data-theme="mono"] .agent-pill.unavailable{border-color:var(--line);color:#ef4444}

@media (max-width:700px){
  .wrap{padding:20px}
  .nav .row{padding:12px 16px}
  .display{font-size:36px}
  .hero-actions,.btnrow{gap:8px}
  .linklist,.stack-nav{gap:6px}
  .links{gap:6px}
  .links a{padding:6px 10px;font-size:12px}
  .card{padding:16px}
}

/* Cards */
.card{
  background:var(--panel2);
  border:1px solid var(--line);
  border-radius:var(--r);
  padding:var(--pad);
  box-shadow:0 14px 32px rgba(0,0,0,.2);
  position:relative;
  overflow:hidden;
  transition:transform .25s ease,border-color .25s ease,box-shadow .25s ease;
}
.card::before{
  content:"";
  position:absolute;
  inset:0;
  background:radial-gradient(240px 120px at 10% 0%, rgba(255,255,255,.06), transparent 60%);
  opacity:.4;
  pointer-events:none;
}
.card:hover{
  transform:translateY(-2px);
  border-color:rgba(255,255,255,.16);
  box-shadow:0 22px 50px rgba(0,0,0,.24);
}
[data-theme="mono"] .card::before{opacity:.2}

.warning-card{
  border-color:rgba(239,68,68,.45);
  background:rgba(239,68,68,.08);
}
[data-theme="light"] .warning-card{
  background:rgba(239,68,68,.12);
}
[data-theme="mono"] .warning-card{
  border-color:var(--line);
  background:var(--panel3);
}

.cta-grid{
  display:grid;
  gap:14px;
  grid-template-columns:repeat(3,minmax(0,1fr));
}
@media (max-width:900px){.cta-grid{grid-template-columns:1fr}}

.cta-card{
  display:grid;
  gap:10px;
}

/* Projects */
.project-grid{gap:18px}
.project-card{
  display:grid;
  gap:10px;
  border-left:4px solid var(--line);
}
.project-head{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:12px;
}
.project-meta{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
}
.project-status{
  font-size:11px;
  letter-spacing:.16em;
  text-transform:uppercase;
  color:var(--muted);
  border:1px solid var(--line);
  border-radius:999px;
  padding:4px 10px;
}
.project-card.active{
  border-left-color:rgba(55,213,255,.45);
}
[data-theme="mono"] .project-card.active{
  border-left-color:var(--line);
}
[data-theme="light"] .card{background:#ffffff}
.card.glass{
  background:rgba(18,24,34,.55);
  border-color:rgba(255,255,255,.1);
}
[data-theme="light"] .card.glass{
  background:rgba(255,255,255,.7);
  border-color:#d6dde8;
}
.card.sun{
  border-color:rgba(246,196,83,.5);
  background:rgba(246,196,83,.08);
  box-shadow:0 18px 60px rgba(246,196,83,.08);
}
.card.cyan{
  border-color:rgba(76,201,240,.5);
  background:rgba(76,201,240,.08);
  box-shadow:0 18px 60px rgba(76,201,240,.08);
}
.card.flare{
  border-color:rgba(255,122,89,.5);
  background:rgba(255,122,89,.08);
  box-shadow:0 20px 70px rgba(255,122,89,.1);
}
.card.lime{
  border-color:rgba(122,229,130,.5);
  background:rgba(122,229,130,.08);
  box-shadow:0 18px 60px rgba(122,229,130,.08);
}
[data-theme="mono"] .card.sun,
[data-theme="mono"] .card.cyan,
[data-theme="mono"] .card.flare,
[data-theme="mono"] .card.lime{
  border-color:var(--line);
  background:var(--panel2);
  box-shadow:0 14px 32px rgba(0,0,0,.2);
}

/* Hero */
.hero{
  padding:30px 0 14px;
  display:grid;gap:20px;
}
.hero-grid{display:grid;gap:18px;grid-template-columns:1.2fr .8fr}
@media (max-width:900px){.hero-grid{grid-template-columns:1fr}}
.hero-card{
  padding:20px;border-radius:20px;border:1px solid var(--line);
  background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0)) , var(--panel2);
}
.hero-actions{display:flex;flex-wrap:wrap;gap:10px;margin-top:8px}
.btnrow{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  align-items:center;
  row-gap:10px;
}

/* Open Source gate */
.vault-gate{
  display:grid;
  gap:18px;
  border:1px solid var(--line);
  border-radius:24px;
  padding:24px;
  background:var(--panel2);
  box-shadow:0 24px 60px rgba(0,0,0,.25);
}
.vault-gate .display{font-size:44px}
.vault-gate .gate-actions{display:flex;flex-wrap:wrap;gap:12px;margin-top:12px}
.vault-gate .gate-warning{
  border:1px solid rgba(255,107,94,.3);
  background:rgba(255,107,94,.08);
  padding:14px;
  border-radius:14px;
  color:var(--muted);
}
[data-theme="mono"] .vault-gate .gate-warning{
  border-color:var(--line);
  background:var(--panel2);
}
.vault-gate .gate-warning strong{color:var(--text)}

/* Vault hero */
.vault-hero{
  border:1px solid var(--line);
  border-radius:24px;
  padding:22px;
  background:linear-gradient(140deg, rgba(255,107,94,.1), rgba(37,213,255,.08) 45%, rgba(255,209,102,.08));
  box-shadow:0 18px 50px rgba(0,0,0,.24);
}
[data-theme="mono"] .vault-hero{background:var(--panel2)}
.vault-hero .display{font-size:40px}
.vault-hero .hero-actions{margin-top:12px}
.vault-hero .chip-row{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
.vault-hero .chip-row a{
  border:1px solid var(--line);
  padding:6px 12px;
  border-radius:999px;
  font-size:12px;
  color:var(--muted);
}
.vault-meta{
  display:grid;
  grid-template-columns:repeat(4,minmax(0,1fr));
  gap:10px;
  margin-top:12px;
}
.vault-meta-card{
  border:1px solid var(--line);
  border-radius:12px;
  padding:10px;
  background:rgba(12,16,24,.5);
  text-align:center;
}
.vault-meta-card strong{display:block;font-size:20px}
.vault-meta-card span{font-size:11px;letter-spacing:.12em;text-transform:uppercase;color:var(--muted)}

/* Catalog revamp */
.catalog-hero{
  border:1px solid var(--line);
  border-radius:24px;
  padding:22px;
  background:linear-gradient(160deg, rgba(76,201,240,.12), rgba(255,122,89,.08) 55%, rgba(18,24,34,.5));
  display:grid;
  grid-template-columns:1.4fr .6fr;
  gap:16px;
}
@media (max-width:900px){.catalog-hero{grid-template-columns:1fr}}
.catalog-metrics{
  display:grid;
  gap:10px;
}
.catalog-metrics .metric{
  border:1px solid var(--line);
  border-radius:14px;
  padding:12px;
  background:var(--panel);
}
.catalog-metrics .metric strong{display:block;font-size:20px}
.catalog-metrics .metric span{font-size:11px;letter-spacing:.12em;text-transform:uppercase;color:var(--muted)}

.catalog-toolbar{
  display:grid;
  grid-template-columns:1fr auto;
  gap:12px;
  align-items:end;
}
@media (max-width:900px){.catalog-toolbar{grid-template-columns:1fr}}
.search-stack{display:grid;gap:6px}
.toolbar-actions{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.catalog-subtoolbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  margin-top:10px;
}
.catalog-grid{
  display:grid;
  grid-template-columns:280px 1fr 320px;
  gap:16px;
}
@media (max-width:1100px){.catalog-grid{grid-template-columns:1fr}}
.catalog-panel,.catalog-detail{
  border:1px solid var(--line);
  border-radius:16px;
  padding:16px;
  background:var(--panel2);
  position:sticky;
  top:90px;
  align-self:start;
  max-height:calc(100vh - 120px);
  overflow:auto;
}
.catalog-results{
  display:grid;
  gap:12px;
  min-width:0;
}

/* Vault command + layout */
.vault-command{
  border:1px solid var(--line);
  border-radius:18px;
  padding:14px;
  display:grid;
  grid-template-columns:1fr auto;
  gap:14px;
  background:var(--panel2);
}
@media (max-width:900px){.vault-command{grid-template-columns:1fr}}
.command-actions{
  display:grid;
  gap:10px;
  justify-items:end;
}
@media (max-width:900px){.command-actions{justify-items:start}}
.toolbar-hint{
  font-size:11px;
  color:var(--muted);
}
.view-toggle{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}
.vault-subnav{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  flex-wrap:wrap;
}
.vault-count{
  font-size:12px;
  color:var(--muted);
}
.vault-layout{
  display:grid;
  grid-template-columns:260px minmax(0,1fr) 300px;
  gap:16px;
}
@media (max-width:1100px){.vault-layout{grid-template-columns:1fr}}
.vault-sidebar,
.vault-results,
.vault-detail{
  border:1px solid var(--line);
  border-radius:16px;
  padding:16px;
  background:var(--panel2);
}
.vault-sidebar{
  display:grid;
  gap:16px;
}
.vault-detail{
  position:sticky;
  top:90px;
  align-self:start;
  max-height:calc(100vh - 120px);
  overflow:auto;
}
@media (max-width:1100px){.vault-detail{position:static;max-height:none}}
.sidebar-block h3{
  margin:0 0 10px 0;
}
.vault-results-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-bottom:12px;
}
.vault-results-grid{
  display:grid;
  gap:12px;
}
.vault-results-grid[data-view="list"]{
  gap:8px;
}
.vault-item{
  border:1px solid var(--line);
  border-radius:14px;
  padding:14px;
  background:var(--panel3);
  display:grid;
  gap:10px;
}
[data-theme="light"] .vault-item{background:#ffffff}
.vault-item .meta{
  font-size:11px;
  letter-spacing:.12em;
  text-transform:uppercase;
  color:var(--muted);
}
.vault-item .title-row{
  display:flex;
  align-items:center;
  gap:10px;
}
.vault-item .title-row .logo{
  width:22px;
  height:22px;
  border-radius:6px;
  background:rgba(255,255,255,.08);
}
.vault-item .title{
  font-weight:600;
}
.vault-item .tag-row{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}
.vault-item .actions{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
}
.vault-results-grid[data-view="list"] .vault-item{
  grid-template-columns:1.2fr auto;
  align-items:center;
}
@media (max-width:900px){
  .vault-results-grid[data-view="list"] .vault-item{
    grid-template-columns:1fr;
  }
}
.vault-collection{
  border:1px solid var(--line);
  border-radius:12px;
  padding:12px;
  background:var(--panel3);
  cursor:pointer;
  transition:transform .2s ease,border-color .2s ease;
}
.vault-collection:hover{
  transform:translateY(-1px);
  border-color:rgba(255,255,255,.2);
}
.vault-empty{
  padding:22px;
  border:1px dashed var(--line);
  border-radius:14px;
  text-align:center;
  color:var(--muted);
}

/* Agent window */
.agent-window{
  border:1px solid var(--line);
  border-radius:14px;
  padding:12px;
  background:var(--panel2);
  display:grid;
  gap:8px;
}
.agent-window .window-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  flex-wrap:wrap;
}
.agent-window .window-label{
  font-size:12px;
  color:var(--muted);
  letter-spacing:.12em;
  text-transform:uppercase;
}
.agent-window .window-value{
  font-weight:600;
}
.catalog-results-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}

/* Category header */
.category-hero{
  border:1px solid var(--line);
  border-radius:20px;
  padding:18px;
  background:var(--panel2);
}
.category-hero .display{font-size:34px}

.vault-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
  gap:12px;
}
.vault-tile{
  border:1px solid var(--line);
  border-radius:14px;
  padding:14px;
  background:rgba(12,16,24,.5);
  color:var(--text);
  display:block;
  transition:transform .2s ease,border-color .2s ease,box-shadow .2s ease;
}
.vault-tile:hover{border-color:rgba(55,213,255,.45)}
[data-theme="mono"] .vault-tile:hover{border-color:var(--line)}
.vault-tile:hover{transform:translateY(-2px);box-shadow:0 14px 30px rgba(0,0,0,.22)}
[data-theme="mono"] .vault-tile:hover{border-color:var(--line)}

/* Agent pool */
.agent-pool{
  border:2px solid rgba(55,213,255,.35);
  border-radius:18px;
  padding:18px;
  background:linear-gradient(160deg, rgba(55,213,255,.08), rgba(255,107,94,.06) 45%, rgba(18,24,34,.6));
  box-shadow:0 18px 60px rgba(55,213,255,.12);
}
[data-theme="mono"] .agent-pool{
  border-color:var(--line);
  background:var(--panel2);
  box-shadow:none;
}
.agent-pool .split{
  display:grid;
  grid-template-columns:2fr 1fr;
  gap:14px;
}
@media (max-width:900px){.agent-pool .split{grid-template-columns:1fr}}
.agent-stats{
  display:grid;
  grid-template-columns:repeat(2,minmax(0,1fr));
  gap:8px;
}
.agent-stat{
  border:1px solid var(--line);
  border-radius:12px;
  padding:10px;
  background:rgba(12,16,24,.5);
}
.agent-stat strong{display:block;font-size:18px}
.agent-stat.available{border-color:#22c55e}
.agent-stat.unavailable{border-color:#ef4444}
[data-theme="mono"] .agent-stat.available{border-color:#22c55e}
[data-theme="mono"] .agent-stat.unavailable{border-color:#ef4444}
.agent-pool .btnrow .btn{font-size:12px}
.agent-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:8px;
}
.agent-pill{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  border:1px solid rgba(255,255,255,.12);
  padding:8px 10px;
  border-radius:12px;
  font-size:12px;
  color:var(--text);
  background:rgba(12,16,24,.65);
}
.agent-pill.available{
  border-color:#22c55e;
}
.agent-pill.unavailable{
  color:var(--muted);
  border-color:#ef4444;
  text-decoration:line-through;
  pointer-events:none;
  opacity:.6;
}
.agent-special{
  display:flex;
  gap:12px;
  align-items:flex-start;
  border:1px dashed rgba(255,209,102,.55);
  background:rgba(255,209,102,.06);
  padding:12px;
  border-radius:14px;
}
[data-theme="mono"] .agent-special{
  border-color:var(--line);
  background:var(--panel2);
}
.agent-avatar{
  width:40px;height:40px;border-radius:12px;
  background:linear-gradient(140deg, rgba(255,209,102,.6), rgba(255,107,94,.5));
  display:flex;align-items:center;justify-content:center;
  font-weight:700;color:#1a1a1a;
}
[data-theme="mono"] .agent-avatar{
  background:var(--panel3);
  color:var(--text);
}
.agent-pill:hover{color:var(--text);border-color:rgba(55,213,255,.45)}
.agent-pill.available:hover{border-color:#22c55e}
.agent-pill.unavailable:hover{border-color:#ef4444}
.agent-list{
  width:100%;
  min-height:120px;
  background:var(--panel2);
  color:var(--text);
  border:1px solid var(--line);
  border-radius:12px;
  padding:10px;
  font-family:var(--mono);
  font-size:11px;
}

/* Atlas / Map */
.atlas{
  border-radius:22px;
  border:1px solid var(--line);
  padding:18px;
  background:var(--panel2);
}
.atlas-grid{display:grid;gap:14px;grid-template-columns:repeat(3,minmax(0,1fr))}
@media (max-width:900px){.atlas-grid{grid-template-columns:1fr}}
.node{
  border:1px solid var(--line);border-radius:16px;padding:14px;
  background:var(--panel3);
}
.node.sun{border-color:rgba(255,209,102,.35)}
.node.cyan{border-color:rgba(55,192,255,.35)}
.node.lime{border-color:rgba(183,255,90,.35)}
.node.flare{border-color:rgba(255,120,79,.35)}
[data-theme="mono"] .node.sun,
[data-theme="mono"] .node.cyan,
[data-theme="mono"] .node.lime,
[data-theme="mono"] .node.flare{
  border-color:var(--line);
}
.node .tag{font-size:11px;letter-spacing:.18em;text-transform:uppercase;color:var(--muted)}

/* Buttons */
.btn{
  border:1px solid var(--line);
  background:var(--panel2);
  padding:10px 14px;border-radius:12px;
  display:inline-flex;gap:10px;align-items:center;
  transition:transform .2s ease,border-color .2s ease,background .2s ease;
  font-size:13px;
  font-weight:600;
  line-height:1.1;
  white-space:nowrap;
  min-height:36px;
}
.btn:hover{transform:translateY(-1px);border-color:rgba(255,255,255,.22)}
[data-theme="mono"] .btn:hover{border-color:var(--line)}
.btn.active{
  border-color:var(--accent2);
  background:rgba(55,192,255,.12);
}
[data-theme="mono"] .btn.active{
  border-color:var(--line);
  background:var(--panel3);
}
[data-theme="light"] .btn.active{
  border-color:rgba(37,99,235,.6);
  background:rgba(37,99,235,.12);
}
.btn.primary{border-color:rgba(255,120,79,.6);background:rgba(255,120,79,.14)}
.btn.sun{border-color:rgba(255,209,102,.6);background:rgba(255,209,102,.12)}
.btn.cyan{border-color:rgba(55,192,255,.6);background:rgba(55,192,255,.12)}
.btn.lime{border-color:rgba(183,255,90,.55);background:rgba(183,255,90,.12)}
.btn.flare{border-color:rgba(255,120,79,.6);background:rgba(255,120,79,.16)}
.btn.primary,.btn.sun,.btn.cyan,.btn.lime,.btn.flare{color:var(--text)}
[data-theme="mono"] .btn.primary,
[data-theme="mono"] .btn.sun,
[data-theme="mono"] .btn.cyan,
[data-theme="mono"] .btn.lime,
[data-theme="mono"] .btn.flare{
  border-color:var(--line);
  background:var(--panel3);
}
[data-theme="mono"] .btn{
  background:var(--panel3);
  color:var(--text);
}
.btn.ghost{background:transparent}
[data-theme="mono"] .btn.ghost{background:transparent}
[data-theme="light"] .btn{
  background:#ffffff;
  color:#0f172a;
  border-color:#cfd6e2;
}
[data-theme="light"] .btn:hover{
  border-color:rgba(37,99,235,.4);
}
[data-theme="light"] .btn.primary{border-color:rgba(255,92,69,.55);background:rgba(255,92,69,.12)}
[data-theme="light"] .btn.sun{border-color:rgba(245,158,11,.55);background:rgba(245,158,11,.12)}
[data-theme="light"] .btn.cyan{border-color:rgba(37,99,235,.55);background:rgba(37,99,235,.12)}
[data-theme="light"] .btn.lime{border-color:rgba(22,163,74,.55);background:rgba(22,163,74,.12)}
[data-theme="light"] .btn.flare{border-color:rgba(255,92,69,.55);background:rgba(255,92,69,.12)}

.badge{font-size:11px;border:1px solid var(--line);border-radius:999px;padding:4px 8px;color:var(--muted);letter-spacing:.14em;text-transform:uppercase}
.badge.sun{border-color:rgba(255,209,102,.6);color:var(--accent3)}
.badge.cyan{border-color:rgba(55,192,255,.6);color:var(--accent2)}
.badge.lime{border-color:rgba(183,255,90,.6);color:var(--accent4)}
.badge.flare{border-color:rgba(255,120,79,.6);color:var(--accent)}
[data-theme="mono"] .badge.sun,
[data-theme="mono"] .badge.cyan,
[data-theme="mono"] .badge.lime,
[data-theme="mono"] .badge.flare{
  border-color:var(--line);
  color:var(--muted);
}
[data-theme="mono"] .badge.sun,
[data-theme="mono"] .badge.cyan,
[data-theme="mono"] .badge.lime,
[data-theme="mono"] .badge.flare{
  border-color:var(--line);
  color:var(--muted);
}

.mini-logo{
  display:inline-block;
  width:14px;height:14px;
  margin-right:6px;
  position:relative;
  top:1px;
  background-size:contain;
  background-repeat:no-repeat;
  background-position:center;
}
.mini-logo.chopsticks{background-image:url("/assets/images/chopsticks.png")}

/* Lists */
.linklist{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}
.linklist a{border:1px solid var(--line);padding:6px 10px;border-radius:999px;font-size:12px;color:var(--muted)}
[data-theme="mono"] .linklist a{background:var(--panel3)}
.linklist a:hover{border-color:rgba(255,255,255,.2);color:var(--text)}
.stack-nav{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}
.stack-nav a{border:1px solid var(--line);padding:6px 12px;border-radius:10px;font-size:12px;color:var(--muted)}
.stack-nav a:hover{border-color:rgba(255,255,255,.2);color:var(--text)}
ul{margin:10px 0 0 18px}
li{margin:4px 0}

/* Tables */
.table{width:100%;border-collapse:separate;border-spacing:0}
.table th,.table td{padding:10px;border-bottom:1px solid var(--line);text-align:left;vertical-align:top}
.table th{color:var(--muted);font-weight:600}

/* Inputs */
.input{
  width:100%;padding:10px 12px;border-radius:12px;border:1px solid var(--line);
  background:#0b1118;color:var(--text);
}
[data-theme="light"] .input{background:#ffffff}
.input:disabled{
  opacity:.6;
  cursor:not-allowed;
}
.is-locked{
  opacity:.6;
}

.form-grid{
  display:grid;
  gap:8px;
  margin-top:10px;
}

/* Sections */
.section{margin:32px 0}
.divider{height:1px;background:var(--line);margin:22px 0}
.hr{height:1px;background:var(--line);margin:18px 0}
.path{
  display:flex;
  gap:10px;
  align-items:center;
  color:var(--muted);
  font-size:11px;
  letter-spacing:.18em;
  text-transform:uppercase;
}
.path a{color:var(--muted)}
.path span{opacity:.55}

/* Logo links */
.logo-link{display:flex;align-items:center;gap:8px}
.logo-link img{width:18px;height:18px;border-radius:4px;background:rgba(255,255,255,.06);flex:0 0 18px}
[data-theme="mono"] img,
[data-theme="mono"] .mini-logo,
[data-theme="mono"] .logo-link img,
[data-theme="mono"] .spotlight-logo{
  filter:grayscale(1) contrast(1.05);
}

/* Footer */
footer{color:var(--muted);padding:26px 0}

/* Status */
.status-text{display:inline-flex;gap:8px;align-items:center}
.status-dot{
  width:8px;height:8px;border-radius:999px;
  background:#9ca3af;
  box-shadow:0 0 10px rgba(156,163,175,.35);
  flex:0 0 8px;
}
.card[data-status="up"] .status-dot{background:#22c55e;box-shadow:0 0 10px rgba(34,197,94,.45)}
.card[data-status="warn"] .status-dot{background:#f59e0b;box-shadow:0 0 10px rgba(245,158,11,.45)}
.card[data-status="down"] .status-dot{background:#ef4444;box-shadow:0 0 10px rgba(239,68,68,.45)}
.card[data-status="up"] .status-text{color:#22c55e}
.card[data-status="warn"] .status-text{color:#f59e0b}
.card[data-status="down"] .status-text{color:#ef4444}

/* Motion */
[data-reveal]{opacity:0;transform:translateY(12px);transition:opacity .6s ease,transform .6s ease}
[data-reveal].is-visible{opacity:1;transform:none}
[data-stagger] > *{opacity:0;transform:translateY(10px)}
[data-stagger].is-visible > *{opacity:1;transform:none;transition:opacity .5s ease,transform .5s ease}

/* Utility */
.pill{display:inline-flex;align-items:center;gap:8px;padding:4px 10px;border-radius:999px;border:1px solid var(--line);font-size:11px;color:var(--muted)}
.panel{border:1px solid var(--line);border-radius:18px;padding:18px;background:rgba(12,17,25,.8)}
[data-theme="light"] .panel{background:#ffffff}

/* Identity */
.identity-band{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
  border:1px solid var(--line);
  border-radius:16px;
  padding:12px 16px;
  background:var(--panel2);
  margin:18px 0;
}
.identity-brand{
  display:flex;
  align-items:center;
  gap:10px;
  font-weight:700;
  font-family:"Bricolage Grotesque",sans-serif;
}
.identity-tagline{
  color:var(--muted);
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:.18em;
}
@media (max-width:700px){
  .identity-band{flex-direction:column;align-items:flex-start}
}

/* Disclaimer */
.disclaimer{
  border-bottom:1px solid var(--line);
  background:rgba(255,255,255,.03);
}
.disclaimer .wrap{
  padding-top:12px;padding-bottom:12px;
  font-size:12px;
  color:var(--muted);
}
.disclaimer strong{color:var(--text);font-weight:600}
.disclaimer details{margin-top:6px}
.disclaimer summary{cursor:pointer;color:var(--text)}

/* Vault */
.vault{
  display:grid;gap:16px;
  grid-template-columns:280px 1fr 320px;
}
@media (max-width:1100px){.vault{grid-template-columns:1fr}}
.vault-panel,.vault-detail{
  border:1px solid var(--line);
  border-radius:16px;
  padding:16px;
  background:linear-gradient(180deg,rgba(18,24,34,.9),rgba(12,18,26,.96));
  position:sticky;
  top:90px;
  align-self:start;
  max-height:calc(100vh - 120px);
  overflow:auto;
}
[data-theme="mono"] .vault-panel,
[data-theme="mono"] .vault-detail{
  background:var(--panel2);
}
.vault-panel h3,.vault-detail h3{margin:0 0 10px;font-family:"Bricolage Grotesque",sans-serif}
.vault-filters{display:flex;flex-wrap:wrap;gap:8px}
.filter-chip{
  border:1px solid var(--line);padding:6px 10px;border-radius:999px;font-size:12px;color:var(--muted);
  cursor:pointer;user-select:none;
}
.filter-chip.active{border-color:rgba(55,192,255,.45);color:var(--text);background:rgba(55,192,255,.08)}
[data-theme="mono"] .filter-chip.active{
  border-color:var(--line);
  background:rgba(255,255,255,.05);
}
.vault-results-wrap{
  display:grid;
  gap:12px;
  min-width:0;
}
.vault-results-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.vault-results-head h3{margin:0}
.vault-results{display:grid;gap:12px;grid-template-columns:repeat(3,minmax(0,1fr))}
@media (max-width:1200px){.vault-results{grid-template-columns:repeat(2,minmax(0,1fr))}}
@media (max-width:900px){.vault-results{grid-template-columns:1fr}}
.vault-results{max-height:calc(100vh - 260px);overflow:auto;padding-right:6px}
.vault-item{
  border:1px solid var(--line);
  border-radius:14px;
  padding:14px;
  background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,0));
  display:grid;gap:8px;
}
[data-theme="mono"] .vault-item{background:var(--panel)}
[data-theme="mono"] .vault-item .logo{background:var(--panel3)}
.vault-item .title-row{display:flex;align-items:center;gap:10px}
.vault-item .logo{width:18px;height:18px;border-radius:4px;background:rgba(255,255,255,.06);flex:0 0 18px}
.vault-item .title{font-weight:600}
.vault-item .meta{font-size:11px;letter-spacing:.1em;text-transform:uppercase;color:var(--muted)}
.vault-item .actions{display:flex;gap:8px;flex-wrap:wrap}
.vault-toolbar{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.vault-toolbar .input{flex:1;min-width:220px}
.vault-toolbar .btn{white-space:nowrap}
.toolbar-hint{
  font-size:12px;
  color:var(--muted);
  display:flex;
  align-items:center;
  gap:6px;
}
.kbd{
  border:1px solid var(--line);
  border-bottom-width:2px;
  border-radius:6px;
  padding:2px 6px;
  font-size:11px;
  color:var(--text);
  background:var(--panel2);
}
.vault-subtoolbar{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  margin-top:8px;
}
.vault-subtoolbar .chip-row{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
}
.vault-subtoolbar .chip-row a{
  border:1px solid var(--line);
  padding:6px 12px;
  border-radius:999px;
  font-size:12px;
  color:var(--muted);
}
.vault-subtoolbar .chip-row a:hover{color:var(--text)}
.vault-subtoolbar .vault-count{margin-left:auto}
.vault-count{font-size:12px;color:var(--muted)}
.vault-count{font-size:12px;color:var(--muted)}
.vault-collection{border:1px dashed var(--line);border-radius:14px;padding:12px;background:rgba(255,255,255,.03)}
[data-theme="mono"] .vault-collection{background:var(--panel2)}
.vault-collection h4{margin:0 0 6px;font-family:"Bricolage Grotesque",sans-serif}

@media (max-width:1100px){
  .vault-panel,.vault-detail{
    position:static;
    max-height:none;
  }
  .vault-results{max-height:none}
}
